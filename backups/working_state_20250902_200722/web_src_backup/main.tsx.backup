import React from 'react'
import ReactDOM from 'react-dom/client'
import { ClerkProvider } from '@clerk/clerk-react'
import App from './App.tsx'
import './index.css'

console.log("ğŸš€ MAIN.TSX: Starting React app initialization...");

// Get Clerk publishable key
const PUBLISHABLE_KEY = import.meta.env.VITE_CLERK_PUBLISHABLE_KEY
console.log("ğŸ”‘ MAIN.TSX: Clerk key:", PUBLISHABLE_KEY ? "Present" : "Missing");

if (!PUBLISHABLE_KEY) {
  console.error("âŒ MAIN.TSX: Missing VITE_CLERK_PUBLISHABLE_KEY");
  throw new Error("Missing Publishable Key")
}

console.log("ğŸ¯ MAIN.TSX: Getting root element...");
const rootElement = document.getElementById('root');
console.log("ğŸ¯ MAIN.TSX: Root element:", rootElement ? "Found" : "Not found");

if (!rootElement) {
  console.error("âŒ MAIN.TSX: Root element not found!");
  throw new Error("Root element not found");
}

console.log("ğŸ”„ MAIN.TSX: Creating React root...");
const root = ReactDOM.createRoot(rootElement);
console.log("ğŸ”„ MAIN.TSX: React root created successfully");

console.log("ğŸ­ MAIN.TSX: Rendering App with ClerkProvider...");
root.render(
  <React.StrictMode>
    <ClerkProvider publishableKey={PUBLISHABLE_KEY}>
      <App />
    </ClerkProvider>
  </React.StrictMode>,
)

console.log("âœ… MAIN.TSX: App render called successfully");
